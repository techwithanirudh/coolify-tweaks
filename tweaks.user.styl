/* ==UserStyle==
@name Coolify Enhanced UI
@version 1.4
@namespace techwithanirudh
@updateURL https://github.com/techwithanirudh/coolify-tweaks/raw/main/tweaks.user.styl
@preprocessor stylus
@description Extra spacing, soft rounded corners, subtle shadows, and fully token-driven colour themes for Coolify.
@license MIT
==/UserStyle== */
@-moz-document url-prefix("*://coolify.local/*"), url-prefix("https://app.coolify.io/*") {
  :root {
    /* neutrals */
    --color-base: #FFFFFF;
    --color-coolgray-100: #F6F7F9;
    --color-coolgray-200: #ECEEF2;
    --color-coolgray-300: #E3E5EA;
    --color-coolgray-400: #D8DAE0;
    --color-coolgray-500: #CFD1D8;
    --color-coolgray-600: #C6C8D0; /* sidebar */
    --color-coolgray-700: #F4F5F7;
    --color-coolgray-800: #EDEEF1;
    --color-coolgray-900: #E6E7EB; /* accent */
    --color-coollabs: #4C3495;
    --color-coollabs-100: unquote('color-mix(in srgb, #4C3495 85%, #FFFFFF)'); /* states */
    --color-success: #2AAA52;
    --color-warning: #E0B842;
    --color-error: #D63B3B; /* semantic colors for light mode */
    --color-text-primary: #1F1C23;
    --color-text-muted: #6E6B75;
    --color-placeholder: #8E8C91; /* shadows and overlays */
    --color-overlay: rgba(0, 0, 0, 0.6);
    --color-shadow-light: rgba(0, 0, 0, 0.15);
    --color-shadow-dark: rgba(0, 0, 0, 0.35);
    --color-shadow-main: rgba(0, 0, 0, 0.25);
  }

  /* Dark Scheme */
  .dark {
    --color-base: #1F1C23;
    --color-coolgray-100: #26252B;
    --color-coolgray-200: #2A292E;
    --color-coolgray-300: #353239;
    --color-coolgray-400: #3D3A40;
    --color-coolgray-500: #45424A;
    --color-coolgray-600: #403D44; /* sidebar bg */
    --color-coolgray-700: #1A191F;
    --color-coolgray-800: #151419;
    --color-coolgray-900: #101014; /* Accent */
    --color-coollabs: #7349F3;
    --color-coollabs-100: unquote('color-mix(in srgb, #7349F3 75%, #FFFFFF)'); /* States */
    --color-success: #23FF1F;
    --color-warning: #FCD452;
    --color-error: #FF1F1C;
    --color-text-primary: #FCFAFC;
    --color-text-muted: #8E8C91;
    --color-placeholder: #8E8C91;
  }

  :root {
    font-size: 15px;
    --cfy-accent: var(--color-coollabs);
    --cfy-accent-light: var(--color-coollabs-100);
    --cfy-sidebar-bg: var(--color-coolgray-700);
    --cfy-secondary: var(--color-coolgray-100);
    --cfy-content-bg: var(--color-base);
    --cfy-card-container: var(--color-coolgray-200);
    --cfy-card: var(--color-coolgray-300);
    --cfy-text: var(--color-text-primary);
    --cfy-muted: var(--color-text-muted); // * one knob to rule them all *//* layout / fx *//* one knob to rule them all */
    --cfy-blur: 14px;
    --cfy-shadow: 0 4px 20px var(--color-shadow-main);
    --cfy-sidebar-w: 260px;
    --radius-base: 14px;
    --radius-step: 2px;
    --radius-xs: calc(var(--radius-base) - (var(--radius-step) * 2));
    --radius-sm: calc(var(--radius-base) - var(--radius-step));
    --radius-md: var(--radius-base);
    --radius-lg: calc(var(--radius-base) + var(--radius-step));
    --radius-xl: calc(var(--radius-base) + (var(--radius-step) * 2));
  }

  /* =============================================================================
     1 ▸ GLOBAL RESET
  ============================================================================= */
  body, .box, .card, .menu-item, button, a, input, select, textarea {
    border: none !important;
    border-radius: var(--radius-sm) !important;
    box-shadow: none !important;
  }

  body, main {
    background: var(--cfy-content-bg) !important;
    color: var(--cfy-text);
  }

  /* =============================================================================
     2 ▸ SIDEBAR
  ============================================================================= */
  [class*='lg:flex'][class*='lg:w-56'] {
    width: var(--cfy-sidebar-w) !important;
  }

  nav[class*='dark:border-coolgray-200'] {
    overflow-x: hidden;
    overflow-y: auto !important;
    width: 100%;
    border-right: 1px solid var(--color-coolgray-400);
    background: var(--cfy-sidebar-bg) !important;
    backdrop-filter: blur(var(--cfy-blur));
    -webkit-backdrop-filter: blur(var(--cfy-blur));
    scrollbar-width: thin;
    scrollbar-color: var(--cfy-accent) transparent;
  }

  nav[class*='dark:border-coolgray-200'] > ul {
    padding-inline: calc(var(--spacing) * 2);
  }

  nav[class*='dark:border-coolgray-200'] > div[class*='px-2 pt-2 pb-7'] {
    padding-block: calc(var(--spacing) * 4) !important;
  }

  aside::-webkit-scrollbar {
    width: 8px;
  }

  aside::-webkit-scrollbar-thumb {
    border-radius: 4px;
    background: var(--cfy-accent);
  }

  nav > ul > li > ul > li {
    overflow: hidden;
    border-radius: var(--radius-sm) !important;
  }

  .menu-item {
    display: flex;
    align-items: center;
    padding: 0.55rem 0.9rem;
    border-radius: var(--radius-sm) !important;
    color: var(--cfy-muted);
    font-weight: 500;
    transition: background 0.18s, color 0.18s;
    gap: 0.6rem;
  }

  .menu-item:hover, .menu-item-active {
    background: var(--cfy-card-container) !important;
    color: var(--cfy-text) !important;
  }

  .menu-item svg {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
    stroke-width: 1.6;
    fill: var(--color-coolgray-600) !important;
  }

  /* Mobile slide-in */
  @media (max-width: 1023px) {
    aside[class*='sidebar'] {
      position: fixed;
      z-index: 60;
      transition: transform 0.25s;
      transform: translateX(calc(-1 * var(--cfy-sidebar-w)));
      inset: 0;
    }

    body.sidebar-open aside {
      transform: none;
    }

    body.sidebar-open::after {
      position: fixed;
      z-index: 50;
      background: var(--color-overlay);
      content: '';
      inset: 0;
    }
  }

  /* Desktop push */
  @media (min-width: 1024px) {
    main {
      padding-left: var(--cfy-sidebar-w) !important;
    }
  }

  /* =============================================================================
     3 ▸ TOP SUB-NAV
  ============================================================================= */
  .navbar-main {
    position: sticky;
    top: 0;
    z-index: 45;
    padding: 0.45rem 0.85rem;
    border: 1px solid var(--color-coolgray-400);
    border-radius: var(--radius-sm) !important;
    background: var(--cfy-sidebar-bg);
    backdrop-filter: blur(var(--cfy-blur));
    -webkit-backdrop-filter: blur(var(--cfy-blur));
  }

  .navbar-main nav {
    display: flex;
    align-items: center;
    padding-top: 0px;
    gap: 0.8rem;
  }

  .navbar-main nav::-webkit-scrollbar {
    display: none;
  }

  .navbar-main nav a {
    padding: 0.3rem;
    border-radius: 10px !important;
    color: var(--cfy-muted);
    font-weight: 600;
    cursor: pointer;
    transition: background 0.18s, color 0.18s;
  }

  .navbar-main nav a:hover {
    color: var(--cfy-text) !important;
  }

  .navbar-main nav a[class*='dark:text-white'], .navbar-main nav a[aria-current='page'] {
    box-shadow: inset 0 0 0 2px var(--cfy-accent-light);
    color: var(--cfy-text) !important;
  }

  .navbar-main .flex-1 {
    flex: 1 1 auto;
  }

  /* =============================================================================
     4 ▸ SECTION CONTAINERS & CARDS
  ============================================================================= */
  section>h2+div, section>h3+div, div[data-testid='resources-grid'], div.grid[class*='cols'] {
    overflow: hidden;
    margin-top: 0.65rem;
    padding: 0.75rem 0.85rem !important;
    border-radius: var(--radius-md) !important; /* 14 px */
    background: var(--cfy-card-container) !important;
  }

  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']), div.grid[class*='cols']:has([href*='/project/']) {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  /* Responsive grid columns like Tailwind CSS breakpoints */
  @media screen and (min-width: 640px) {
    /* sm */
    div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']), div.grid[class*='cols']:has([href*='/project/']) {
      grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    }
  }

  @media screen and (min-width: 1024px) {
    /* lg */
    div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']), div.grid[class*='cols']:has([href*='/project/']) {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    }
  }

  @media screen and (min-width: 1280px) {
    /* xl */
    div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']), div.grid[class*='cols']:has([href*='/project/']) {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    }
  }

  @media screen and (min-width: 1536px) {
    /* 2xl */
    div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']), div.grid[class*='cols']:has([href*='/project/']) {
      grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    }
  }

  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']) .box, div.grid[class*='cols']:has([href*='/project/']) .box {
    height: 150px;
  }

  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']) .box > div, div.grid[class*='cols']:has([href*='/project/']) .box > div, div.grid[class*='cols']:has([href*='/project/']) .box {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  div.grid[class*='cols']:has([href*='/server/']) {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  section:has(> div > div:only-child) > div > div:only-child {
    padding: 1.25rem !important;
    border-radius: var(--radius-sm) !important;
    background: var(--cfy-card-container) !important;
    color: var(--cfy-muted);
    text-align: center;
  }

  .grid, [class*='grid-cols'] {
    gap: 0.65rem !important;
  }

  .box, .box-without-bg {
    overflow: hidden;
    padding: 0.65rem 0.75rem;
    border: 1px solid var(--color-coolgray-400) !important;
    border-radius: var(--radius-sm) !important; /* 12 px */
    background: var(--cfy-card) !important;
    transition: transform 0.15s, box-shadow 0.2s, background 0.18s, border-color 0.18s;
  }

  .badge-dashboard, .badge {
    // top: calc(var(--spacing)*0.5)!important;
    // right: calc(var(--spacing)*0.5)!important;
    width: calc(var(--spacing) * 3.5);
    height: calc(var(--spacing) * 3.5);
  }

  .box:hover {
    border-color: var(--cfy-accent);
    background: unquote('color-mix(in srgb, var(--cfy-card) 70%, var(--cfy-accent) 30%)');
    box-shadow: 0 8px 24px var(--color-shadow-dark);
    transform: translateY(-2px);
  }

  [dashed], [class*='dashed'] {
    border-color: var(--cfy-muted) !important;
    border-radius: var(--radius-sm) !important;
    padding-block: 2rem !important;
  }

  [role='row']:not([dashed]) {
    padding: 0.6rem 0.8rem;
    border-radius: var(--radius-sm) !important;
    background: var(--cfy-card) !important;
  }

  /* =============================================================================
     5 ▸ TYPOGRAPHY
  ============================================================================= */
  h1 {
    color: var(--cfy-text);
    font: 700 2.1rem / 1.25 'Inter', 'SF Pro Display', sans-serif;
  }

  h2 {
    color: var(--cfy-text);
    font: 700 1.5rem / 1.35 'Inter', 'SF Pro Display', sans-serif;
  }

  h3 {
    color: var(--cfy-text);
    font: 700 1.25rem / 1.35 'Inter', 'SF Pro Display', sans-serif;
  }

  h4 {
    color: var(--cfy-text);
    font: 700 1.1rem / 1.35 'Inter', 'SF Pro Display', sans-serif;
  }

  .subtitle {
    color: var(--cfy-muted);
    font-size: 0.95rem;
  }

  .box-title {
    font-weight: 600;
    font-size: 1.05rem;
  }

  .box-description {
    color: var(--cfy-muted);
  }

  /* =============================================================================
     6 ▸ BUTTONS
  ============================================================================= */
  button.button, .button {
    padding: 0.55rem 1rem;
    border: 1px solid var(--color-coolgray-400) !important;
    border-radius: var(--radius-sm) !important; /* 12 px */
    background: var(--cfy-accent);
    color: var(--color-text) !important;
    font-weight: 600;
    transition: background 0.18s;
  }

  /* Ensure proper text colors in light mode for buttons */
  html:not(.dark) button.button, html:not(.dark) .button {
    color: var(--color-base) !important;
  }

  button.button:hover, .button:hover {
    background: var(--cfy-accent-light);
  }

  button.secondary, .secondary {
    background: var(--cfy-secondary) !important;
  }

  button.secondary:hover {
    background: var(--cfy-card-container) !important;
  }

  /* =============================================================================
     7 ▸ FORM CONTROLS
  ============================================================================= */
  input.input, textarea.input, select.select {
    padding: 0.55rem 1rem;
    border: 1px solid var(--color-coolgray-400) !important;
    border-radius: var(--radius-sm) !important; /* 12 px */
    background: var(--cfy-card) !important;
    color: var(--cfy-text);
    transition: border-color 0.15s, background 0.15s;
  }

  input.input:focus, textarea.input:focus, select.select:focus {
    border-color: var(--cfy-accent-light) !important;
    background: var(--cfy-card-container) !important;
  }

  /* Placeholder text styling */
  input.input::placeholder, textarea.input::placeholder {
    color: var(--cfy-muted) !important;
    opacity: 0.7;
  }

  input.input:focus::placeholder, textarea.input:focus::placeholder {
    opacity: 0.5;
  }

  input[type='checkbox'], input[type='radio'] {
    padding: 0.7rem;
    border-radius: 4px !important;
    background-color: var(--cfy-card) !important;
    transition: background 0.18s;
  }

  label {
    margin-bottom: 0.75rem;
    font-weight: 600;
  }

  /* =============================================================================
     8 ▸ TOASTS & MISC
  ============================================================================= */
  ul[x-data] li>span {
    border: 1px solid var(--color-coolgray-400) !important;
    background: var(--cfy-card) !important;
    font-family: 'Inter', sans-serif;
    backdrop-filter: blur(var(--cfy-blur));
  }

  @keyframes wiggle {
    0%, 100% {
      transform: rotate(0);
    }

    25% {
      transform: rotate(-3deg);
    }

    75% {
      transform: rotate(3deg);
    }
  }

  .toast-no-description svg[fill='currentColor'] {
    animation: wiggle 0.6s ease;
  }

  [x-show='popups.sponsorship'] {
    padding: 1.25rem !important;
    border-radius: var(--radius-sm) !important;
    background: var(--cfy-card-container) !important;
    box-shadow: var(--cfy-shadow) !important;
  }

  /* Scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-thumb {
    border-radius: 4px;
    background: var(--cfy-muted);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--cfy-text);
  }

  /* Focus ring */
  button:focus-visible, a:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible {
    outline: 2px solid var(--cfy-accent) !important;
    outline-offset: 2px;
  }

  /* Misc utilities */
  .rounded-sm, form, div[class*='shadow-lg lg:border-t dark:border-coolgray-300'] {
    border-radius: var(--radius-sm) !important;
  }

  :is(.flex.gap-2, .flex.items-center.gap-4, .flex.flex-col.gap-4)> :is(h1, h2, h3, h4) {
    margin-right: auto;
  }

  div[class='flex items-center gap-2']>h3, section>h3[class='pb-2'] {
    font-size: 1.6rem;
  }

  div[class='flex flex-col gap-4 max-w-2xl'] {
    max-width: none !important;
  }

  input.dark\:bg-coolgray-100:where(.dark, .dark *) {
    padding: 0.7rem;
    border-radius: 4px !important;
    background-color: var(--cfy-card) !important;
    transition: background 0.18s;
  }

  /* force some widths */
  div[class='w-48'], div[class*='w-64'], div[class='w-32'], div[class='pt-2 w-96'], div[class='w-96'], div[class*='md:w-96'] {
    width: 100% !important;
  }

  div[class*='flex flex-col gap-2'] {
    gap: calc(var(--spacing) * 4) !important;
  }

  a[class*='hover:underline']:hover {
    color: var(--cfy-muted) !important;
    text-decoration: none !important;
  }

  table {
    overflow: hidden !important;
    margin-top: calc(var(--spacing) * 4);
    border-radius: var(--radius-sm) !important;
    background: var(--cfy-card-container) !important;
  }

  img[class*='w-[4.5rem] aspect-square h-[4.5rem]'] {
    border-radius: var(--radius-sm) !important;
    filter: none !important;
    opacity: 1 !important;
  }

  /* Optional: tighter max-width for wide desktops */
  main > div[class*='p-4 sm:px-6 lg:px-8 lg:py-6'] {
    margin: auto;
    max-width: 1280px !important;
    padding-block: calc(var(--spacing) * 18) !important;
  }

  /* “Sponsor us” box and similar */
  div[class*='p-4 border dark:border-coolgray-300'] {
    margin-top: calc(var(--spacing) * 4);
    padding: calc(var(--spacing) * 4) calc(var(--spacing) * 6);
    border-radius: var(--radius-sm) !important;
    background: var(--cfy-card-container) !important;
  }

  // Theme dropdown button styling - target button with dropdownOpen that has x-show child
  button[\\\@click='dropdownOpen=true']:has([x-show="theme === 'dark' || theme === 'system'"]) {
    border-radius: 10px !important;
    background: var(--cfy-card) !important;
    padding-block: 0.7rem !important;
  }

  select, ::picker(select) {
    appearance: base-select;
  }

  select {
    flex: 1;
  }

  select {
    padding: 10px;
    border: 2px solid var(--color-coolgray-400);
    background: var(--cfy-card);
    color: var(--cfy-text);
    transition: 0.4s;
  }

  select:hover, select:focus {
    background: var(--cfy-card-container);
    border-color: var(--cfy-accent-light);
  }

  select::picker-icon {
    color: var(--cfy-muted);
    transition: 0.4s rotate;
  }

  select:open::picker-icon {
    rotate: 180deg;
  }

  ::picker(select) {
    border: 1px solid var(--color-coolgray-400) !important;
    border-radius: var(--radius-xs) !important;
    background: var(--cfy-card) !important;
  }

  option {
    display: flex;
    justify-content: flex-start;
    padding: 10px;
    border: 1px solid var(--color-coolgray-400);
    background: var(--cfy-card) !important;
    color: var(--cfy-text);
    transition: 0.4s;
    gap: 20px;
  }

  option:first-of-type {
    border-radius: var(--radius-xs) var(--radius-xs) 0 0;
  }

  option:last-of-type {
    border-radius: 0 0 var(--radius-xs) var(--radius-xs);
  }

  option:not(option:last-of-type) {
    border-bottom: none;
  }

  option:hover, option:focus {
    background: var(--cfy-card-container) !important;
    color: var(--cfy-text);
  }

  option .icon {
    font-size: 1.6rem;
    text-box: trim-both cap alphabetic;
  }

  selectedcontent .icon {
    display: none;
  }

  option:checked {
    font-weight: bold;
  }

  option::checkmark {
    order: 1;
    margin-left: auto;
    content: '✓';
  }

  ::picker(select) {
    opacity: 0;
    transition: all 0.4s allow-discrete;
  }

  ::picker(select):popover-open {
    opacity: 1;
  }

  @starting-style {
    ::picker(select):popover-open {
      opacity: 0;
    }
  }

  ::picker(select) {
    top: calc(anchor(bottom) + 4px);
  }
} // coolify.local/*"), url-prefix("https://app.coolify.io/*") {

/* end @-moz-document */
