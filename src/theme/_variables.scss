@use 'sass:map';

//── breakpoints (if you need ’em)
$breakpoints: (
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px,
  xxl: 1536px,
);

//── your full palettes
$colors: (
  'light': (
    'base': #ffffff,
    'coolgray-100': #f6f7f9,
    'coolgray-200': #eceef2,
    'coolgray-300': #e3e5ea,
    'coolgray-400': #d8dae0,
    'coolgray-500': #cfd1d8,
    'coolgray-600': #c6c8d0,
    'coolgray-700': #f4f5f7,
    'coolgray-800': #edeef1,
    // sidebar light
    'coolgray-900': #e6e7eb,
    'coollabs': #4c3495,
    'coollabs-100': color-mix(in srgb, #4c3495 85%, #ffffff),
    'success': #2aaa52,
    'warning': #e0b842,
    'error': #d63b3b,
    'text-primary': #1f1c23,
    'text-muted': #6e6b75,
    'placeholder': #8e8c91,
    'overlay': rgba(0, 0, 0, 0.6),
    'shadow-light': rgba(0, 0, 0, 0.15),
    'shadow-dark': rgba(0, 0, 0, 0.35),
    'shadow-main': rgba(0, 0, 0, 0.25),
  ),
  'dark': (
    'base': #1f1c23,
    'coolgray-100': #26252b,
    'coolgray-200': #2a292e,
    'coolgray-300': #363239,
    'coolgray-400': #3f3b42,
    'coolgray-500': #45424a,
    'coolgray-600': #403d44,
    'coolgray-700': #2d2531,
    'coolgray-800': #1a191f,
    'coolgray-900': #101014,
    'coollabs': #483492,
    'coollabs-100': color-mix(in srgb, #483492 75%, #ffffff),
    'success': #25f1bb,
    'warning': #545026,
    'error': #502b2d,
    'text-primary': #ede3f4,
    'text-muted': #8e8c91,
    'placeholder': #8e8c91,
    'overlay': rgba(0, 0, 0, 0.6),
    'shadow-light': rgba(255, 255, 255, 0.15),
    'shadow-dark': rgba(0, 0, 0, 0.35),
    'shadow-main': rgba(255, 255, 255, 0.25),
  ),
);

//── radii
$radii-base: 14px;
$radii-step: 2px;
$radii: (
  'xs': calc($radii-base - $radii-step * 2),
  'sm': calc($radii-base - $radii-step),
  'md': $radii-base,
  'lg': calc($radii-base + $radii-step),
  'xl': calc($radii-base + $radii-step * 2),
);

//── mixin to emit raw color vars
@mixin generate-color-vars($theme-map) {
  @each $name, $val in $theme-map {
    --color-#{$name}: #{$val};
  }
}

//── semantic tokens
@mixin semantic-tokens {
  /* geometry */
  --radius: map-get($radii, 'md');

  /* surfaces & text */
  --background: var(--color-base);
  --surface: var(--color-coolgray-100);
  --surface-hover: var(--color-coolgray-200);
  --card: var(--color-coolgray-300);
  --card-hover: var(--color-coolgray-400);
  --popover: var(--color-coolgray-200);
  --popover-hover: var(--color-coolgray-300);

  --text: var(--color-text-primary);
  --text-secondary: var(--color-text-muted);

  /* interactions & accents */
  --primary: var(--color-coollabs);
  --primary-hover: var(--color-coollabs-100);
  --secondary: var(--color-coolgray-500);
  --secondary-hover: var(--color-coolgray-600);
  --accent: var(--color-coollabs);
  --accent-hover: var(--color-coollabs-100);

  /* status */
  --success: var(--color-success);
  --warning: var(--color-warning);
  --destructive: var(--color-error);

  /* forms & focus */
  --border: var(--color-coolgray-400);
  --input: var(--color-coolgray-100);
  --ring: var(--color-coollabs);

  /* overlay & shadows */
  --overlay: var(--color-overlay);
  --shadow-light: var(--color-shadow-light);
  --shadow-dark: var(--color-shadow-dark);
  --shadow-main: var(--color-shadow-main);

  /* sidebar */
  --sidebar: var(--color-coolgray-800);
  --sidebar-text: var(--color-text-primary);
  --sidebar-active: var(--color-coollabs);
  --sidebar-hover: var(--color-coolgray-700);
  --sidebar-border: var(--color-coolgray-500);
  --sidebar-ring: var(--color-coolgray-600);
}

:root {
  font-size: 15px;

  @include generate-color-vars(map.get($colors, 'light'));
  @include semantic-tokens;
}

.dark {
  @include generate-color-vars(map.get($colors, 'dark'));
  @include semantic-tokens;
}
