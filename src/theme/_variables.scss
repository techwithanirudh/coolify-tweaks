@use 'sass:map';

//── breakpoints (if you need ’em)
$breakpoints: (
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px,
  xxl: 1536px,
);

//── your full palettes
$colors: (
  'light': (
    'base': #ffffff,
    'coolgray-100': #f6f7f9,
    'coolgray-200': #eceef2,
    'coolgray-300': #e3e5ea,
    'coolgray-400': #d8dae0,
    'coolgray-500': #cfd1d8,
    'coolgray-600': #c6c8d0,
    'coolgray-700': #f4f5f7,
    'coolgray-800': #edeef1,
    'coolgray-900': #e6e7eb,
    'coollabs': #4c3495,
    'coollabs-100': color-mix(in srgb, #4c3495 85%, #ffffff),
    'success': #2aaa52,
    'warning': #e0b842,
    'error': #d63b3b,
    'text-primary': #1f1c23,
    'text-muted': #6e6b75,
    'placeholder': #8e8c91,
    'overlay': rgba(0, 0, 0, 0.6),
    'shadow-light': rgba(0, 0, 0, 0.15),
    'shadow-dark': rgba(0, 0, 0, 0.35),
    'shadow-main': rgba(0, 0, 0, 0.25),
  ),
  'dark': (
    'base': #1f1c23,
    'coolgray-100': #26252b,
    'coolgray-200': #363239,
    'coolgray-300': #26252b,
    'coolgray-400': #3f3b42,
    'coolgray-500': #45424a,
    'coolgray-600': #403d44,
    'coolgray-700': #2d2531,
    'coolgray-800': #1a191f,
    'coolgray-900': #101014,
    'coollabs': #483492,
    'coollabs-100': color-mix(in srgb, #483492 75%, #ffffff),
    'success': #23ff1f,
    'warning': #fcd452,
    'error': #ff1f1c,
    'text-primary': #ffffff,
    'text-muted': #8e8c91,
    'placeholder': #8e8c91,
    'overlay': rgba(0, 0, 0, 0.6),
    'shadow-light': rgba(255, 255, 255, 0.15),
    'shadow-dark': rgba(0, 0, 0, 0.35),
    'shadow-main': rgba(255, 255, 255, 0.25),
  ),
);

//── radii
$radii-base: 14px;
$radii-step: 2px;
$radii: (
  '': $radii-base,
  'xs': calc($radii-base - $radii-step * 2),
  'sm': calc($radii-base - $radii-step),
  'md': $radii-base,
  'lg': calc($radii-base + $radii-step),
  'xl': calc($radii-base + $radii-step * 2),
);

//── mixin to emit raw color vars
@mixin generate-color-vars($theme-map) {
  @each $name, $val in $theme-map {
    --color-#{$name}: #{$val};
  }
}

//── semantic tokens
@mixin semantic-tokens {
  /* geometry */
  @each $key, $value in $radii {
    --radius#{if($key != '', '-' + $key, '')}: #{$value};
  }

  /* surfaces */
  --background: var(--color-base);
  --foreground: var(--color-text-primary);
  --muted: var(--color-coolgray-100);
  --muted-foreground: var(--color-text-muted);
  --card: var(--color-coolgray-200);
  --card-foreground: var(--color-text-primary);
  --popover: var(--color-coolgray-100);
  --popover-foreground: var(--color-text-primary);

  /* primary / secondary */
  --primary: var(--color-coollabs);
  --primary-foreground: var(--color-foreground);
  --secondary: var(--color-coolgray-300);
  --secondary-foreground: var(--color-text-primary);
  --accent: var(--color-coollabs-100);
  --accent-foreground: var(--color-base);

  /* destructive / warn / success */
  --destructive: var(--color-error);
  --destructive-foreground: var(--color-base);
  --warning: var(--color-warning);
  --success: var(--color-success);

  /* borders & rings */
  --border: var(--color-coolgray-400);
  --input: var(--color-coolgray-100);
  --ring: var(--color-coollabs);

  /* overlay & shadows */
  --overlay: var(--color-overlay);
  --shadow: var(--color-shadow-main);

  /* sidebar extras */
  --sidebar: var(--color-coolgray-800);
  --sidebar-foreground: var(--color-text-primary);
  --sidebar-primary: var(--color-coollabs);
  --sidebar-accent: var(--color-coollabs-100);
  --sidebar-border: var(--color-coolgray-600);
  --sidebar-width: 260px;

  /* blur */
  --blur: 10px;
}

:root {
  font-size: 15px;

  @include generate-color-vars(map.get($colors, 'light'));
  @include semantic-tokens;
}

.dark {
  @include generate-color-vars(map.get($colors, 'dark'));
  @include semantic-tokens;
}
