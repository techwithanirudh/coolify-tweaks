/* ==UserStyle==
@name Coolify Enhanced UI
@version 2.0.1
@namespace techwithanirudh
@updateURL https://github.com/techwithanirudh/coolify-tweaks/raw/main/tweaks.user.styl
@description Extra spacing, soft rounded corners, subtle shadows, and fully token-driven colour themes for Coolify.
@license MIT
==/UserStyle== */

@use 'components';
@use 'layout';
@use 'theme';

:root {
  /* neutrals */
  --color-base: #FFFFFF;
  --color-coolgray-100: #F6F7F9;
  --color-coolgray-200: #ECEEF2;
  --color-coolgray-300: #E3E5EA;
  --color-coolgray-400: #D8DAE0;
  --color-coolgray-500: #CFD1D8;
  --color-coolgray-600: #C6C8D0;
  /* sidebar */
  --color-coolgray-700: #F4F5F7;
  --color-coolgray-800: #EDEEF1;
  --color-coolgray-900: #E6E7EB;
  /* accent */
  --color-coollabs: #4C3495;
  --color-coollabs-100: color-mix(in srgb, #4C3495 85%, #FFFFFF);
  /* states */
  --color-success: #2AAA52;
  --color-warning: #E0B842;
  --color-error: #D63B3B;
  /* semantic colors for light mode */
  --color-text-primary: #1F1C23;
  --color-text-muted: #6E6B75;
  --color-placeholder: #8E8C91;
  /* shadows and overlays */
  --color-overlay: rgba(0, 0, 0, 0.6);
  --color-shadow-light: rgba(0, 0, 0, 0.15);
  --color-shadow-dark: rgba(0, 0, 0, 0.35);
  --color-shadow-main: rgba(0, 0, 0, 0.25);
}

/* Dark Scheme */
.dark {
  --color-base: #1F1C23;
  --color-coolgray-100: #26252B;
  --color-coolgray-200: #2A292E;
  --color-coolgray-300: #353239;
  --color-coolgray-400: #3D3A40;
  --color-coolgray-500: #45424A;
  --color-coolgray-600: #403D44;
  /* sidebar bg */
  --color-coolgray-700: #1A191F;
  --color-coolgray-800: #151419;
  --color-coolgray-900: #101014;
  /* Accent */
  --color-coollabs: #7349F3;
  --color-coollabs-100: color-mix(in srgb, #7349F3 75%, #FFFFFF);
  /* States */
  --color-success: #23FF1F;
  --color-warning: #FCD452;
  --color-error: #FF1F1C;
  --color-text-primary: #FCFAFC;
  --color-text-muted: #8E8C91;
  --color-placeholder: #8E8C91;
}

:root {
  font-size: 15px;
  --cfy-accent: var(--color-coollabs);
  --cfy-accent-light: var(--color-coollabs-100);
  --cfy-sidebar-bg: var(--color-coolgray-700);
  --cfy-secondary: var(--color-coolgray-100);
  --cfy-content-bg: var(--color-base);
  --cfy-card-container: var(--color-coolgray-200);
  --cfy-card: var(--color-coolgray-300);
  --cfy-text: var(--color-text-primary);
  --cfy-muted: var(--color-text-muted); // * one knob to rule them all *//* layout / fx *//* one knob to rule them all */
  --cfy-blur: 14px;
  --cfy-shadow: 0 4px 20px var(--color-shadow-main);
  --cfy-sidebar-w: 260px;
  --radius-base: 14px;
  --radius-step: 2px;
  --radius-xs: calc(var(--radius-base) - (var(--radius-step) * 2));
  --radius-sm: calc(var(--radius-base) - var(--radius-step));
  --radius-md: var(--radius-base);
  --radius-lg: calc(var(--radius-base) + var(--radius-step));
  --radius-xl: calc(var(--radius-base) + (var(--radius-step) * 2));
}


/* =============================================================================
     4 ▸ SECTION CONTAINERS & CARDS
  ============================================================================= */
section>h2+div,
section>h3+div,
div[data-testid='resources-grid'],
div.grid[class*='cols'] {
  overflow: hidden;
  margin-top: 0.65rem;
  padding: 0.75rem 0.85rem !important;
  border-radius: var(--radius-md) !important;
  /* 14 px */
  background: var(--cfy-card-container) !important;
}

div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']),
div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']),
div.grid[class*='cols'][x-show='filteredApplications.length > 0'],
div.grid[class*='cols'][x-show='filteredServices.length > 0'] {
  grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
}

/* Responsive grid columns like Tailwind CSS breakpoints */
@media screen and (min-width: 640px) {

  /* sm */
  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']),
  div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']),
  div.grid[class*='cols'][x-show='filteredApplications.length > 0'],
  div.grid[class*='cols'][x-show='filteredServices.length > 0'] {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

@media screen and (min-width: 1024px) {

  /* lg */
  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']),
  div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']),
  div.grid[class*='cols'][x-show='filteredApplications.length > 0'],
  div.grid[class*='cols'][x-show='filteredServices.length > 0'] {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}

@media screen and (min-width: 1280px) {

  /* xl */
  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']),
  div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']),
  div.grid[class*='cols'][x-show='filteredApplications.length > 0'],
  div.grid[class*='cols'][x-show='filteredServices.length > 0'] {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}

@media screen and (min-width: 1536px) {

  /* 2xl */
  div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']),
  div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']),
  div.grid[class*='cols'][x-show='filteredApplications.length > 0'],
  div.grid[class*='cols'][x-show='filteredServices.length > 0'] {
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  }
}

div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']) .box,
div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']) .box,
div.grid[class*='cols'][x-show='filteredApplications.length > 0'] .box,
div.grid[class*='cols'][x-show='filteredServices.length > 0'] .box {
  height: 150px;
}

div.grid[class*='cols']:has([wire\\\:click^='navigateToProject']) .box>div,
div.grid[class*='cols']:has([\\\@click^='$wire.navigateToProject']) .box div,
div.grid[class*='cols'][x-show='filteredApplications.length > 0'] .box div,
div.grid[class*='cols'][x-show='filteredServices.length > 0'] .box div {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

div.grid[class*='cols']:has([href*='/server/']) {
  grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
}

section:has(> div > div:only-child)>div>div:only-child {
  padding: 1.25rem !important;
  border-radius: var(--radius-sm) !important;
  background: var(--cfy-card-container) !important;
  color: var(--cfy-muted);
  text-align: center;
}

.grid,
[class*='grid-cols'] {
  gap: 0.65rem !important;
}


.badge-dashboard,
.badge {
  // top: calc(var(--spacing)*0.5)!important;
  // right: calc(var(--spacing)*0.5)!important;
  width: calc(var(--spacing) * 3.5);
  height: calc(var(--spacing) * 3.5);
}

[dashed],
[class*='dashed'] {
  border-color: var(--cfy-muted) !important;
  border-radius: var(--radius-sm) !important;
  padding-block: 2rem !important;
}

[role='row']:not([dashed]) {
  padding: 0.6rem 0.8rem;
  border-radius: var(--radius-sm) !important;
  background: var(--cfy-card) !important;
}

/* =============================================================================
     8 ▸ TOASTS & MISC
  ============================================================================= */
ul[x-data] li>span {
  border: 1px solid var(--color-coolgray-400) !important;
  background: var(--cfy-card) !important;
  font-family: 'Inter', sans-serif;
  backdrop-filter: blur(var(--cfy-blur));
}

@keyframes wiggle {

  0%,
  100% {
    transform: rotate(0);
  }

  25% {
    transform: rotate(-3deg);
  }

  75% {
    transform: rotate(3deg);
  }
}

.toast-no-description svg[fill='currentColor'] {
  animation: wiggle 0.6s ease;
}

[x-show='popups.sponsorship'] {
  padding: 1.25rem !important;
  border-radius: var(--radius-sm) !important;
  background: var(--cfy-card-container) !important;
  box-shadow: var(--cfy-shadow) !important;
}

/* Scrollbars */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background: var(--cfy-muted);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--cfy-text);
}

/* Focus ring */

/* Misc utilities */
.rounded-sm,
form,
div[class*='shadow-lg lg:border-t dark:border-coolgray-300'] {
  border-radius: var(--radius-sm) !important;
}

:is(.flex.gap-2, .flex.items-center.gap-4, .flex.flex-col.gap-4)> :is(h1, h2, h3, h4) {
  margin-right: auto;
}

div[class='flex items-center gap-2']>h3,
section>h3[class='pb-2'] {
  font-size: 1.6rem;
}

div[class='flex flex-col gap-4 max-w-2xl'] {
  max-width: none !important;
}

input.dark\:bg-coolgray-100:where(.dark, .dark *) {
  padding: 0.7rem;
  border-radius: 4px !important;
  background-color: var(--cfy-card) !important;
  transition: background 0.18s;
}

/* force some widths */
div[class='w-48'],
div[class*='w-64'],
div[class='w-32'],
div[class='pt-2 w-96'],
div[class='w-96'],
div[class*='md:w-96'],
div[class='w-96'] {
  width: 100% !important;
}

div[class*='flex flex-col gap-2'] {
  gap: calc(var(--spacing) * 4) !important;
}

a[class*='hover:underline']:hover {
  color: var(--cfy-muted) !important;
  text-decoration: none !important;
}

img[class*='w-[4.5rem] aspect-square h-[4.5rem]'],
svg[class*='w-[4.5rem] aspect-square h-[4.5rem]'],
div[class*='w-[4.5rem] aspect-square h-[4.5rem]'] {
  overflow: hidden !important;
  border-radius: var(--radius-sm) !important;
  filter: none !important;
  opacity: 1 !important;
}

/* Optional: tighter max-width for wide desktops */
main>div[class*='p-4 sm:px-6 lg:px-8 lg:py-6'] {
  margin: auto;
  max-width: 1280px !important;
  padding-block: calc(var(--spacing) * 18) !important;
}

/* “Sponsor us” box and similar */
div[class*='p-4 border dark:border-coolgray-300'] {
  margin-top: calc(var(--spacing) * 4);
  padding: calc(var(--spacing) * 4) calc(var(--spacing) * 6);
  border-radius: var(--radius-sm) !important;
  background: var(--cfy-card-container) !important;
}
.dark\\\:hover\\\:bg-coolgray-100:where(.dark, .dark *):hover {
  background: none !important;
  color: var(--cfy-text) !important;
}

.add-tag {
  color: var(--cfy-muted) !important;
}

main {
  height: 100svh;
}

body>div[\\\:class="pageWidth === 'full' ? '' : 'max-w-7xl'"] {
  min-width: 100% !important;
  max-width: 100% !important;
}

div.font-bold.border-b:contains('Color'),
div.font-bold.border-b:contains('Width'),
div.font-bold.border-b:contains('Zoom') {
  display: none !important;
}

button[\\\@click^='switchWidth'],
button[\\\@click^='setZoom'] {
  display: none !important;
}

div[class*="font-bold border-b dark:border-coolgray-500 dark:text-white text-md"] {
  display: none !important;
}